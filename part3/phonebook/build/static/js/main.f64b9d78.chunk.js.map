{"version":3,"sources":["services/RESTful.js","components/Notification.js","components/List.js","components/InputElement.js","components/App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newPerson","post","id","delete","put","catch","error","console","log","Notification","message","status","msgStyle","color","style","List","person","delEntry","name","number","onClick","window","confirm","personService","handleDelete","InputElement","text","onChange","value","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","errorMsg","setErrorMsg","setStatus","useEffect","initialPersons","extra","setTimeout","p","onSubmit","event","flag","copyOfNames","map","index","indexOf","pos","find","changedPerson","length","preventDefault","newNameObj","returnedPerson","concat","target","type","toLowerCase","i","key","rows","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f64b9d78.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseURL = 'https://morning-lake-23452.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseURL);\n    return request.then( response => response.data )\n}\n\nconst create = newPerson => {\n    const request = axios.post(baseURL, newPerson);\n    return request.then( response => response.data );\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseURL}/${id}`);\n    return request.then( response => response.data );\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseURL}/${id}`, newPerson);\n    return request\n        .then( response => response.data )\n        .catch( error => console.log(error) );\n}\n\nexport default { getAll, create, remove, update}","import React from 'react';\n\nconst Notification = ({message, status}) => {\n    if(message === null) return null;\n    let msgStyle = {color: 'red'}\n\n    if(status === 'success') {\n        msgStyle = {color : 'green'}\n    }\n\n    return (\n        <div style = {msgStyle} > {message} </div>\n    )\n} \n\nexport default Notification;","import React from 'react';\nimport personService from '../services/RESTful'\n\nconst List = ({person, delEntry}) => {\n\n\tconst handleDelete = (person, delEntry) => {\n\t\tvar result = window.confirm(`Are you sure you want to delete ${person.name}`)\n\t\tif(result) {\n\t\t\t// handle delete route\n\t\t\tpersonService\n\t\t\t\t.remove(person.id)\n\t\t\t\t.then( response => delEntry(person))\n\t\t\t\t.catch( error => delEntry(person, 1) )\n\t\t}\n\t\telse {\n\t\t\tconsole.log('Do nothing');\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>{person.name} : { person.number } <button onClick = {() => handleDelete(person, delEntry)}> Delete </button> </div>\n\t)\n}\n\nexport default List;","import React from 'react';\n\nconst InputElement = ({text, onChange, value}) => {\n    \n    return (\n        <div>\n            {text}: <input \n                onChange = {onChange}\n                value = {value} />\n        </div>\n    )\n}\n\nexport default InputElement;","import React, {useState, useEffect} from 'react';\n\nimport personService from '../services/RESTful';\nimport Notification from './Notification';\nimport List from './List';\nimport InputElement from './InputElement';\nimport './App.css';\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState('');\n\tconst [newNumber, setNewNumber] = useState('');\n\tconst [filter, setFilter] = useState('');\n\tconst [errorMsg, setErrorMsg] = useState(null);\n\tconst [status, setStatus] = useState(null);\n\n\tuseEffect( ()=> {\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then( initialPersons => setPersons(initialPersons) )\n\t\t\t.catch( setPersons([]) )\n\t}, []);\n\n\tconst rows = (persons) => persons.filter( person => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1 )\n\t\t.map( (person, i) => <List key = {i} person = {person} delEntry = {delEntry} /> )\n\n\tconst handleNewFilter = (event) => {\n\t\tsetFilter(event.target.value);\n\t}\n\n\tconst handleNewName = (event) => {\n\t\tsetNewName(event.target.value);\n\t}\n\n\tconst handleNewNumber = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t}\n\n\tconst delEntry = (person, extra = 0) => {\n\t\tif(extra === 1) {\n\t\t\tsetErrorMsg(`${person.name} was already deleted`);\n\t\t\tsetStatus('');\n\t\t\tsetTimeout( () => {\n\t\t\t\tsetStatus(null);\n\t\t\t\tsetErrorMsg(null);\n\t\t\t}, 2000);\n\t\t}\n\t\tsetPersons(persons.filter( p => p.id !== person.id ));\n\t}\n\n\tconst submitForm = (event) => {\n\t\tlet flag = true;\n\t\tlet copyOfNames = [...persons].map( person => person.name );\n\t\tlet index = copyOfNames.indexOf(newName);\n\t\tif( index !== -1 ) {\n\t\t\tvar result = window.confirm(`${newName} is already added to the phonebook, entry update? 'Yes'/'No' `);\n\t\t\tif( result ) {\n\t\t\t\tlet pos = persons.find( p => p.name === copyOfNames[index]);\n\t\t\t\tpersonService\n\t\t\t\t\t.update( pos.id, {...pos, number: newNumber} )\n\t\t\t\t\t.then( changedPerson => setPersons(persons.map( p => p.id !== pos.id ? p : changedPerson )));\n\t\t\t}\n\t\t\tflag = false;\n\t\t}\n\n\t\tif( flag && newName.length >= 1) {\n\t\t\tevent.preventDefault();\n\t\t\tlet newNameObj = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t\tid: persons.length + 1\n\t\t\t}\n\t\t\tpersonService\n\t\t\t\t.create(newNameObj)\n\t\t\t\t.then( returnedPerson => {\n\t\t\t\t\tsetErrorMsg(`Added ${newNameObj.name}`);\n\t\t\t\t\tsetStatus('success');\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tsetErrorMsg(null);\n\t\t\t\t\t\tsetStatus(null);\n\t\t\t\t\t}, 2000);\n\t\t\t\t\tsetNewName('');\n\t\t\t\t\tsetNewNumber('');\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t\treturn null;\n\t\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tsetNewName('');\n\t\t\tsetNewNumber('');\n\t\t\tsetPersons(persons);\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t\n\t\t\t<Notification  message = {errorMsg} status = {status} />\n\n\t\t\t<form onSubmit = {submitForm}>\n\t\t\t\t<div>\n\t\t\t\t\t<InputElement \n\t\t\t\t\t\ttext = {'Filter'} \n\t\t\t\t\t\tvalue = {filter} \n\t\t\t\t\t\tonChange = {handleNewFilter} />\n\n\t\t\t\t\t<h3>Add new</h3>\n\t\t\t\t\t<InputElement \n\t\t\t\t\t\ttext = {'Name'} \n\t\t\t\t\t\tvalue = {newName} \n\t\t\t\t\t\tonChange = {handleNewName} />\n\t\t\t\t\t<InputElement \n\t\t\t\t\t\ttext = {'Number'} \n\t\t\t\t\t\tvalue = {newNumber} \n\t\t\t\t\t\tonChange = {handleNewNumber} />\n\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button type = \"submit\">\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t<h3>Numbers</h3>\n\t\t\t<div>\n\t\t\t\t{rows(persons)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}